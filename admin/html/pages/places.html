<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุฅุฏุงุฑุฉ ุงูุฃูุงูู - ุฏููู ุงูุณููุณ</title>
    
    <!-- Auth & Core -->
    <script src="../../../common/config/config.js"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="../../js/services/supabase.client.js"></script>
    <script src="../../js/core/auth.guard.js"></script>

    <script src="../../services/auth.service.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script src="../../../common/config/config.js"></script>
    <link rel="stylesheet" href="../../css/admin.css">
    <link rel="stylesheet" href="../../css/modules/places.css">
    
    <script src="../../services/supabase.js"></script>
    <script src="../../../common/services/admin/places.service.js"></script>
    <script src="../../../common/services/admin/categories.service.js"></script>
    <script src="../../components/sidebar.js"></script>
    <script src="../../components/topbar.js"></script>
    <script src="../../utils/drawer.js"></script>
</head>
<body>
    <div class="app-layout">
        <div id="sidebar-container"></div>
        <main class="main-content">
            <div id="topbar-container"></div>
            <div class="page-content">
                <div class="places-header">
                    <h1>
                        <i data-lucide="map-pin"></i>
                        ุฅุฏุงุฑุฉ ุงูุฃูุงูู
                    </h1>
                    <div class="header-actions-group">
                        <div class="view-toggle">
                            <button class="btn active" id="view-list-btn" onclick="toggleView('list')" title="ุนุฑุถ ูุงุฆูุฉ">
                                <i data-lucide="list"></i>
                            </button>
                            <button class="btn" id="view-grid-btn" onclick="toggleView('grid')" title="ุนุฑุถ ุดุจูุฉ">
                                <i data-lucide="grid"></i>
                            </button>
                        </div>
                        <div class="separator-vertical"></div>
                        <a href="places-form.html" class="btn btn-header-action">
                            <i data-lucide="plus-circle"></i>
                            <span>ุฅุถุงูุฉ ููุงู ุฌุฏูุฏ</span>
                        </a>
                    </div>
                </div>

                <div class="card places-filter-card">
                    <div class="filter-section">
                        <input type="search" id="search-input" placeholder="๐ ุจุญุซ ุจุงูุงุณู ุฃู ุงูุนููุงู..." class="form-control" oninput="filterPlaces()">
                    </div>
                    
                    <div class="filter-label" style="margin-top: 16px; margin-bottom: 8px; font-weight: 600;">ุชุตููุฉ ุญุณุจ ุงููุณู:</div>
                    <div id="category-chips" class="category-chips-list" style="display: flex; gap: 8px; overflow-x: auto; padding-bottom: 4px;">
                        <button class="filter-chip active" data-category="" onclick="selectCategory('')">
                            ุงููู
                        </button>
                        <!-- Populated by JS -->
                    </div>
                </div>

                <!-- Table View -->
                <div id="places-table-view" class="card">
                    <div class="table-wrapper">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>ุงูุงุณู</th>
                                    <th>ุงููุณู</th>
                                    <th>ุงูุชูููู</th>
                                    <th>ุงูุญุงูุฉ</th>
                                    <th>ุงูุฅุฌุฑุงุกุงุช</th>
                                </tr>
                            </thead>
                            <tbody id="places-table-body">
                                <tr><td colspan="4" style="text-align: center; padding: 40px;">ุฌุงุฑู ุงูุชุญููู...</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Grid View (Hidden by default) -->
                <div id="places-grid-view" class="grid-3" style="display: none; margin-top: 24px;">
                    <!-- Rendered by Grid Renderer -->
                </div>
            </div>
        </main>
    </div>
    
    <!-- UX Improvements -->
    <script src="../../js/ui/toast.js"></script>
    <script src="../../js/utils/ui-utils.js"></script>
    <script src="../../js/utils/keyboard-shortcuts.js"></script>
    
    <!-- Page Controller -->
    <script type="module" src="../../js/pages/places-page.js"></script>
</body>
</html>
