# ูููููุฉ ูุดุฑูุน ุฏููู ุงูุณููุณ (Architecture Reference)

ูุฐุง ุงููุณุชูุฏ ูู ุงููุฑุฌุน ุงูุฃุณุงุณู ูุชุตููู ูุชูููุฐ ุฃู ููุฒุฉ ุฌุฏูุฏุฉ ูู ุงููุดุฑูุน. ุงููุฏู ูู ูุตู ุงููุณุคูููุงุช ุจุดูู ุตุงุฑู ูุถูุงู ุงููุงุจููุฉ ููุตูุงูุฉ ูุงูุชูุณุน.

--------------------------------------------------

## 1. Presentation Layer (ูุงุฌูุฉ ุงููุณุชุฎุฏู) ๐จ

ูู ุงูุทุจูุฉ ุงููุญูุฏุฉ ุงูุชู ูุฑุงูุง ููุชูุงุนู ูุนูุง ุงููุณุชุฎุฏู.

**โ ุงููุณุคูููุงุช:**
- ุนุฑุถ ุงูุจูุงูุงุช ุงููุงุฏูุฉ ูู Business Logic.
- ุงุณุชูุจุงู ุฅุฏุฎุงู ุงููุณุชุฎุฏู (Forms, Buttons).
- ุฅุทูุงู ุงูุฃุญุฏุงุซ (Events) ุนูุฏ ุญุฏูุซ ุชูุงุนู (ูุซู `onClick`, `onSubmit`).
- ุชุญุฏูุซ ุญุงูุฉ ุงููุงุฌูุฉ (Loading, Success, Error UI).

**โ๏ธ ุงูููููุนุงุช:**
- โ ููููุน ูุชุงุจุฉ ุฃู ููุทู ุนูู (Business Logic).
- โ ููููุน ุฅุฌุฑุงุก ุฃู ุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช (Validation).
- โ ููููุน ุงูุชูุงุตู ุงููุจุงุดุฑ ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฃู ุงูู API.
- โ ููููุน ุชุญููู ุงูุจูุงูุงุช (Transformation) ุฅูุง ูุฃุบุฑุงุถ ุงูุนุฑุถ ููุท.

--------------------------------------------------

## 2. Business Logic Layer (ููุทู ุงูุนูู) ๐ง

ูู "ุงูุนูู ุงููุฏุจุฑ" ููุชุทุจูู. ุชุณุชูุจู ุทูุจุงุช ุงููุงุฌูุฉุ ุชุชุฃูุฏ ูู ุตุญุชูุงุ ุซู ุชูุฑุฑ ูุง ูุฌุจ ูุนูู.

**โ ุงููุณุคูููุงุช:**
- ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช (Validation) ูุจู ุฅุฑุณุงููุง.
- ุชูุณูู ุชุฏูู ุงูุนูููุงุช (Workflow Orchestration).
- ุงุชุฎุงุฐ ุงููุฑุงุฑุงุช ุจูุงุกู ุนูู ููุงุนุฏ ุงูุนูู (Business Rules).
- ุชุญููู ุงูุจูุงูุงุช ุงููุงุฏูุฉ ูู Data Layer ูุตูุบุฉ ูููููุฉ ูููุงุฌูุฉ (DTO Mapping).

**โ๏ธ ุงูููููุนุงุช:**
- โ ููููุน ุงูุชุนุงูู ูุน ุงูู DOM ููุงุฆูุงู.
- โ ููููุน ุงุณุชูุฑุงุฏ ุฃู ุงุณุชุฎุฏุงู ุฃู ููุฏ ูุชุนูู ุจุงูู CSS ุฃู HTML.
- โ ููููุน ุชูููุฐ ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ (ูุฌุจ ุทูุจูุง ูู Data Layer).

--------------------------------------------------

## 3. Data Layer (ุทุจูุฉ ุงูุจูุงูุงุช) ๐พ

ูู ุงููุณุคูู ุงููุญูุฏ ุนู ุงูุชุนุงูู ูุน ุงูุจูุงูุงุช ุงูุฎุงูุ ุณูุงุก ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช (Supabase) ุฃู ุฃู ูุตุฏุฑ ุขุฎุฑ.

**โ ุงููุณุคูููุงุช:**
- ุชูููุฐ ุนูููุงุช CRUD (Create, Read, Update, Delete).
- ุงูุชุนุงูู ูุน ุงูู API ุงูุฎุงุฑุฌู ุฃู LocalStorage.
- ุฅุฑุฌุงุน ุงูุจูุงูุงุช ููุง ูู (Raw Data) ุฃู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงูุชูููุฉ (Network Errors).

**โ๏ธ ุงูููููุนุงุช:**
- โ ููููุน ุงุญุชูุงุก ุฃู ููุทู ุฎุงุต ุจูุงุฌูุฉ ุงููุณุชุฎุฏู.
- โ ููููุน ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูู ููุธูุฑ "ููุทู ุงูุนูู" (ููุท ุงูุชุญูู ุงูุชููู).
- โ ููููุน ุงูุงูุชุฑุงุถ ุจุฃู ุงููุณุชุฎุฏู "Admin" ุฃู "User" (ูุฐู ูุณุคูููุฉ Business Logic).

--------------------------------------------------

## ๐ ูููู ุงููููุงุช ุงูููุชุฑุญ (File Structure)

```text
/src (ุฃู ุงูุฌุฐุฑ)
  โโโ /presentation
  โ     โโโ /pages          # ุตูุญุงุช ุงูุชุทุจูู ุงููุงููุฉ
  โ     โโโ /components     # ููููุงุช ูุงุฌูุฉ ูุงุจูุฉ ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
  โ
  โโโ /business
  โ     โโโ /services       # ุงูุฎุฏูุงุช ุงูุชู ุชุฌูุน ุงูููุทู (e.g., PlaceService)
  โ     โโโ /validators     # ูููุงุช ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
  โ
  โโโ /data
        โโโ /repositories   # ุงูุชุนุงูู ุงููุจุงุดุฑ ูุน ุงูุจูุงูุงุช (e.g., PlaceRepository)
        โโโ /api            # ุฅุนุฏุงุฏุงุช ุงูุงุชุตุงู (Supabase Client)
```

--------------------------------------------------

## ๐ ุชุฏูู ุงูุจูุงูุงุช (Data Flow)

ูุฌุจ ุฃู ุชุณูุฑ ุงูุจูุงูุงุช ูู ุงุชุฌุงู ูุงุญุฏ ูุงุถุญ ูููุธู:

1. **Presentation**: ุงููุณุชุฎุฏู ูุถุบุท ุฒุฑ "ุญูุธ".
   โฌ๏ธ *(ุงุณุชุฏุนุงุก ุฏุงูุฉ)*
2. **Business Logic**: ูุณุชูู ุงูุจูุงูุงุชุ ูุชุญูู ูููุง (Validation)ุ ููุฌูุฒูุง.
   โฌ๏ธ *(ุงุณุชุฏุนุงุก ุฏุงูุฉ)*
3. **Data Layer**: ูุฑุณู ุงูุจูุงูุงุช ููุงุนุฏุฉ ุงูุจูุงูุงุช ูููุชุธุฑ ุงูุฑุฏ.
   โฌ๏ธ *(Return Promise/Data)*
4. **Data Layer**: ูุนูุฏ ุงูุจูุงูุงุช ุงูุฎุงู.
   โฌ๏ธ *(Return Object)*
5. **Business Logic**: ูุณุชูู ุงูุฑุฏุ ููุนุงูุฌู ุฅุฐุง ูุฒู ุงูุฃูุฑ.
   โฌ๏ธ *(Return Result)*
6. **Presentation**: ูุณุชูู ุงููุชูุฌุฉ ููุนุฑุถ ุฑุณุงูุฉ ูุฌุงุญ ุฃู ุฎุทุฃ ูููุณุชุฎุฏู.

โ๏ธ **ููููุน ุชูุงูุงู:**
- Presentation โ Data ูุจุงุดุฑุฉ โ (ุชุฌุงูุฒ ููุทู ุงูุนูู)
- Business โ DOM โ (ุชุฏุงุฎู ุงููุณุคูููุงุช)
- Data โ UI โ (ุชููุซ ุงูุจูุงูุงุช ุจุงูุนุฑุถ)

--------------------------------------------------

## ๐ก ูุซุงู ุฐููู: "ุฅุถุงูุฉ ููุงู ุฌุฏูุฏ"

ููุชุฎูู ุณููุงุฑูู ุฅุถุงูุฉ ูุทุนู ุฌุฏูุฏ ูููุธุงู:

### 1. Presentation (UI)
- ุชุนุฑุถ ูููุฐุฌ (Form) ูุญุชูู ุนูู ุญููู (ุงูุงุณูุ ุงูุนููุงูุ ุงูุณุนุฑ).
- ุนูุฏ ุถุบุท "ุฅุถุงูุฉ": ุชุฌูุน ุงูุจูุงูุงุช ูู ุงูุญููู ูุชุณุชุฏุนู `PlaceService.addPlace(data)`.
- ุชุธูุฑ "ูุคุดุฑ ุชุญููู" (Spinner).

### 2. Business Logic (Service)
- ุชุณุชูุจู `data`.
- ุชุณุชุฏุนู `PlaceValidator` ููุชุฃูุฏ ุฃู ุงูุงุณู ุบูุฑ ูุงุฑุบ ูุงูุณุนุฑ ุฑูู ุตุญูุญ.
- ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ุบูุฑ ุตุงูุญุฉ: ุชุฑูู ุฎุทุฃ (Error) ููุนูุฏ ูููุงุฌูุฉ.
- ุฅุฐุง ูุงูุช ุตุงูุญุฉ: ุชุณุชุฏุนู `PlaceRepository.create(data)`.

### 3. Data Layer (Repository)
- ุชุณุชูุจู `data` ุงููุนุงูุฌุฉ.
- ุชุชุตู ุจู Supabase ูุฅุฏุฑุงุฌ ุงูุณุทุฑ ูู ุฌุฏูู `places`.
- ุชุนูุฏ ุงููุงุฆู ุงูุฌุฏูุฏ (New Place Object) ุฃู ุฎุทุฃ ูุงุนุฏุฉ ุงูุจูุงูุงุช.

--------------------------------------------------

## ๐ก ููุงุนุฏ ุงูุงุณุชูุฑุงุฑ

1. ุฃู ููุฒุฉ ุฌุฏูุฏุฉ ูุฌุจ ุฃู ุชูุฑ ุนุจุฑ ูุฐู ุงูุทุจูุงุช ุงูุซูุงุซ.
2. ูุง ูุชู ุฅุถุงูุฉ ุฃู ููุทู ุชุญูู (Validation) ูู ูููุงุช ุงูู JS ุงูุฎุงุตุฉ ุจุงูุตูุญุงุช (Pages).
3. ูุง ูุชู ูุชุงุจุฉ ุฃู ููุฏ HTML ุฏุงุฎู ูููุงุช ุงูุฎุฏูุงุช (Services).
4. **ูุง ุชูุฌุฏ ุงุณุชุซูุงุกุงุช** ููุฐุง ุงูููุท ุงููุนูุงุฑู.

---
*ุชู ุฅูุดุงุก ูุฐุง ุงููุณุชูุฏ ููุฑุฌุน ุฃุณุงุณู ููุดุฑูุน ุฏููู ุงูุณููุณ.*
